import{a as Ei,b as Ti,c as Mi,e as Ci,f as zi}from"./chunk-ZM2VSGGW.js";import{$ as ii,Aa as ri,Ad as wi,Cd as yi,Cf as bi,Ga as ai,Ka as hi,Kb as xi,Sa as li,Ta as fi,Ua as ci,V as ti,Va as ft,Wa as nt,Xa as Rt,_ as bt,a as Qt,aa as ei,ba as ni,cb as ui,eb as di,h as k,ib as pi,qb as ct,sa as oi,sb as mi,va as si,vb as gi,xb as vi,za as Et}from"./chunk-HLZYCX4L.js";var $i=function(t,i){return new $i.fn.init(t,i)},r=$i;var E=window.document,D=[],Hi=D.concat,Tt=D.filter,W=D.slice,Mt={},Ct={},_i={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Wt=/^\s*<(\w+|!)[^>]*>/,Li=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Bt=/^(?:body|html)$/i;var Vi=["val","css","html","text","data","width","height","offset"],Ft=E.createElement("table"),Si=E.createElement("tr"),jt={tr:E.createElement("tbody"),tbody:Ft,thead:Ft,tfoot:Ft,td:Si,th:Si,"*":E.createElement("div")},Ni=/^[\w-]*$/,ut={},Ai=ut.toString,kt=E.createElement("div");var K=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},U=E.documentElement.contains?function(t,i){return t!==i&&t.contains(i)}:function(t,i){for(;i&&(i=i.parentNode);)if(i===t)return!0;return!1};function J(t){return t==null?String(t):ut[Ai.call(t)]||"object"}function ot(t){return typeof t=="string"}function I(t){return J(t)=="function"}function Q(t){return t!=null&&t==t.window}function zt(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function Y(t){return J(t)=="object"}function q(t){return Y(t)&&!Q(t)&&Object.getPrototypeOf(t)==Object.prototype}function $t(t){var i=!!t&&"length"in t&&t.length,n=J(t);return n!="function"&&!Q(t)&&(n=="array"||i===0||typeof i=="number"&&i>0&&i-1 in t)}function Ii(t){return Tt.call(t,function(i){return i!=null})}function st(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Ut(t,i){return typeof i=="number"&&!_i[st(t)]?i+"px":i}function St(t){return t.replace(/-+(.)?/g,function(i,n){return n?n.toUpperCase():""})}function Yt(t){return t in Ct?Ct[t]:Ct[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function Pi(t){var i,n;return Mt[t]||(i=E.createElement(t),E.body.appendChild(i),n=getComputedStyle(i,"").getPropertyValue("display"),i.parentNode.removeChild(i),n=="none"&&(n="block"),Mt[t]=n),Mt[t]}function Oi(t){return t.length>0?r.fn.concat.apply([],t):t}function rt(t){return t instanceof r}function P(t,i,n,e){return I(i)?i.call(t,n,e):i}function Ht(t,i,n){n==null?t.removeAttribute(i):t.setAttribute(i,n)}function tt(t,i){var n=t.className||"",e=n&&n.baseVal!==void 0;if(i===void 0)return e?n.baseVal:n;e?n.baseVal=i:t.className=i}function Ri(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}r.fn=r.prototype={constuctor:r,length:0,forEach:D.forEach,reduce:D.reduce,push:D.push,sort:D.sort,splice:D.splice,indexOf:D.indexOf,init:function(t,i){var n;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Wt.test(t))n=r.fragment(t,RegExp.$1,i),t=null;else{if(i!==void 0)return r(i).find(t);n=r.qsa(E,t)}else{if(I(t))return r(E).ready(t);if(rt(t))return t;if(K(t))n=Ii(t);else if(Y(t))n=[t],t=null;else{if(i!==void 0)return r(i).find(t);n=r.qsa(E,t)}}else return this;return r.makeArray(n,t,this)},concat:function(){var t,i,n=[];for(t=0;t<arguments.length;t++)i=arguments[t],n[t]=rt(i)?i.toArray():i;return Hi.apply(rt(this)?this.toArray():this,n)},pluck:function(t){return r.map(this,function(i){return i[t]})},toArray:function(){return this.get()},get:function(t){return t===void 0?W.call(this):this[t>=0?t:t+this.length]},size:function(){return this.length},each:function(t){return D.every.call(this,function(i,n){return t.call(i,n,i)!==!1}),this},map:function(t){return r(r.map(this,function(i,n){return t.call(i,n,i)}))},slice:function(){return r(W.apply(this,arguments))},first:function(){var t=this[0];return t&&!Y(t)?t:r(t)},last:function(){var t=this[this.length-1];return t&&!Y(t)?t:r(t)},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)}};r.extend=r.fn.extend=function(){var t,i,n,e,o,s,a=arguments[0]||{},h=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[h]||{},h++),typeof a!="object"&&!I(a)&&(a={}),h===c&&(a=this,h--);h<c;h++)if((t=arguments[h])!=null)for(i in t)n=a[i],e=t[i],a!==e&&(u&&e&&(q(e)||(o=K(e)))?(o?(o=!1,s=n&&K(n)?n:[]):s=n&&q(n)?n:{},a[i]=r.extend(u,s,e)):e!==void 0&&(a[i]=e));return a};r.extend({makeArray:function(t,i,n){var e,o=t?t.length:0;for(e=0;e<o;e++)n[e]=t[e];return n.length=o,n.selector=i||"",n},merge:function(t,i){for(var n=+i.length,e=0,o=t.length;e<n;e++)t[o++]=i[e];return t.length=o,t},qsa:function(t,i){var n,e=i[0]=="#",o=!e&&i[0]==".",s=e||o?i.slice(1):i,a=Ni.test(s);return t.getElementById&&a&&e?(n=t.getElementById(s))?[n]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:W.call(a&&!e&&t.getElementsByClassName?o?t.getElementsByClassName(s):t.getElementsByTagName(i):t.querySelectorAll(i))},fragment:function(t,i,n){var e,o,s;return Li.test(t)&&(e=r(E.createElement(RegExp.$1))),e||(t.replace&&(t=t.replace(Di,"<$1></$2>")),i===void 0&&(i=Wt.test(t)&&RegExp.$1),i in jt||(i="*"),s=jt[i],s.innerHTML=""+t,e=r.each(W.call(s.childNodes),function(){s.removeChild(this)})),q(n)&&(o=r(e),r.each(n,function(a,h){Vi.indexOf(a)>-1?o[a](h):o.attr(a,h)})),e},matches:function(t,i){if(!i||!t||t.nodeType!==1)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,i);var e,o=t.parentNode,s=!o;return s&&(o=kt).appendChild(t),e=~r.qsa(o,i).indexOf(t),s&&kt.removeChild(t),e},each:function(t,i){var n,e;if($t(t)){for(n=0;n<t.length;n++)if(i.call(t[n],n,t[n])===!1)return t}else for(e in t)if(i.call(t[e],e,t[e])===!1)return t;return t},map:function(t,i){var n,e=[],o,s;if($t(t))for(o=0;o<t.length;o++)n=i(t[o],o),n!=null&&e.push(n);else for(s in t)n=i(t[s],s),n!=null&&e.push(n);return Oi(e)}});r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,i){ut["[object "+i+"]"]=i.toLowerCase()});r.fn.init.prototype=r.fn;function Fi(){}function Wi(t,i){if(arguments.length<2){var n=this[0];if(typeof t=="string")return n?n.style[St(t)]||getComputedStyle(n,"").getPropertyValue(t):void 0;if(K(t)){if(!n)return;var e={},o=getComputedStyle(n,"");return r.each(t,function(h,c){e[c]=n.style[St(c)]||o.getPropertyValue(c)}),e}}var s="";if(J(t)=="string")!i&&i!==0?this.each(function(){this.style.removeProperty(st(t))}):s=st(t)+":"+Ut(t,i);else for(var a in t)!t[a]&&t[a]!==0?this.each(function(){this.style.removeProperty(st(a))}):s+=st(a)+":"+Ut(a,t[a])+";";return this.each(function(){this.style.cssText+=";"+s})}function Bi(t){return t?D.some.call(this,function(i){return this.test(tt(i))},Yt(t)):!1}function ji(t){var i=[];return t?this.each(function(n){if("className"in this){i=[];var e=tt(this),o=P(this,t,n,e);o.split(/\s+/g).forEach(function(s){r(this).hasClass(s)||i.push(s)},this),i.length&&tt(this,e+(e?" ":"")+i.join(" "))}}):this}function ki(t){var i=[];return this.each(function(n){if("className"in this){if(t===void 0)return tt(this,"");i=tt(this),P(this,t,n,i).split(/\s+/g).forEach(function(e){i=i.replace(Yt(e)," ")}),tt(this,i.trim())}})}function Ui(t){if(t)return this.each(function(n){var e=r(this),o=P(this,t,n,e.offset()),s=e.offsetParent().offset(),a={top:o.top-s.top,left:o.left-s.left};e.css("position")=="static"&&(a.position="relative"),e.css(a)});if(!this.length)return null;if(E.documentElement!==this[0]&&!U(E.documentElement,this[0]))return{top:0,left:0};var i=this[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}}function Yi(){if(this.length){var t=this[0],i,n=this.offsetParent(),e=Bt.test(n[0].nodeName)?{top:0,left:0}:n.offset();return r(t).css("position")==="fixed"?i=t.getBoundingClientRect():(i=this.offset(),e.top+=parseFloat(r(n[0]).css("border-top-width"))||0,e.left+=parseFloat(r(n[0]).css("border-left-width"))||0),{top:i.top-e.top-parseFloat(r(t).css("margin-top"))||0,left:i.left-e.left-parseFloat(r(t).css("margin-left"))||0}}}function qi(t){if(this.length){var i="scrollTop"in this[0];return t===void 0?i?this[0].scrollTop:Q(this[0])?this[0].pageYOffset:this[0].defaultView.pageYOffset:this.each(i?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}}function Xi(t){if(this.length){var i="scrollLeft"in this[0];return t===void 0?i?this[0].scrollLeft:Q(this[0])?this[0].pageXOffset:this[0].defaultView.pageXOffset:this.each(i?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}}function Zi(){return this.map(function(){for(var t=this.offsetParent||E.body;t&&!Bt.test(t.nodeName)&&r(t).css("position")=="static";)t=t.offsetParent;return t})}function Gi(t,i){var n;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(n=this[0].getAttribute(t))!=null?n:void 0:this.each(function(e){if(this.nodeType===1)if(Y(t))for(var o in t)Ht(this,o,t[o]);else Ht(this,t,P(this,i,e,this.getAttribute(t)))})}function Ki(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(i){Ht(this,i)},this)})}function Ji(t){var i,n=this;return t?typeof t=="object"?i=r(t).filter(function(){var e=this;return D.some.call(n,function(o){return U(o,e)})}):this.length==1?i=r(r.qsa(this[0],t)):i=this.map(function(){return r.qsa(this,t)}):i=r(),i}function Qi(t,i){var n=[],e=typeof t=="object"&&r(t);return this.each(function(o,s){for(;s&&!(e?e.indexOf(s)>=0:r.matches(s,t));)s=s!==i&&!zt(s)&&s.parentNode;s&&n.indexOf(s)<0&&n.push(s)}),r(n)}function rn(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");return i>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}function an(t,i){var n={width:["padding-left","padding-right","border-left-width","border-right-width"],height:["padding-top","padding-bottom","border-top-width","border-bottom-width"]};return t.css("box-sizing")==="border-box"&&!rn()?parseFloat(t.css(i))-parseFloat(t.css(n[i][0]))-parseFloat(t.css(n[i][1]))-parseFloat(t.css(n[i][2]))-parseFloat(t.css(n[i][3])):parseFloat(t.css(i))}function te(t,i){var n=t.replace(/./,function(o){return o[0].toUpperCase()}),e=this[0];return i===void 0?Q(e)?e.document.documentElement["client"+n]:zt(e)?e.documentElement["scroll"+n]:an(this,t):this.each(function(o){e=r(this),e.css(t,P(this,i,o,e[t]()))})}function ie(t){return te.call(this,"width",t)}function ee(t){return te.call(this,"height",t)}var hn=1,ht={},oe="onfocusin"in window,se={focus:"focusin",blur:"focusout"},re={mouseenter:"mouseover",mouseleave:"mouseout"},ln=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,ne=function(){return!0},_t=function(){return!1},fn={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function at(t){return t._zid||(t._zid=hn++)}function Lt(t,i){if(i||!t.isDefaultPrevented){i||(i=t),r.each(fn,function(n,e){var o=i[n];t[n]=function(){return this[e]=ne,o&&o.apply(i,arguments)},t[e]=_t});try{t.timeStamp||(t.timeStamp=Date.now())}catch(n){console.warn(n)}(i.defaultPrevented!==void 0?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(t.isDefaultPrevented=ne)}return t}function ae(t){var i=(""+t).split(".");return{e:i[0],ns:i.slice(1).sort().join(" ")}}function cn(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function he(t,i,n,e){if(i=ae(i),i.ns)var o=cn(i.ns);return(ht[at(t)]||[]).filter(function(s){return s&&(!i.e||s.e==i.e)&&(!i.ns||o.test(s.ns))&&(!n||at(s.fn)===at(n))&&(!e||s.sel==e)})}function le(t,i){return t.del&&!oe&&t.e in se||!!i}function fe(t){return re[t]||oe&&se[t]||t}function ce(t,i,n,e,o,s,a){var h=at(t),c=ht[h]||(ht[h]=[]);i.split(/\s/).forEach(function(u){if(u=="ready")return r(E).ready(n);var l=ae(u);l.fn=n,l.sel=o,l.e in re&&(n=function(f){var v=f.relatedTarget;if(!v||v!==this&&!U(this,v))return l.fn.apply(this,arguments)}),l.del=s;var w=s||n;l.proxy=function(f){if(f=Lt(f),!f.isImmediatePropagationStopped()){f.data=e;var v=w.apply(t,f._args==null?[f]:[f].concat(f._args));return v===!1&&(f.preventDefault(),f.stopPropagation()),v}},l.i=c.length,c.push(l),"addEventListener"in t&&t.addEventListener(fe(l.e),l.proxy,le(l,a))})}function dt(t,i,n,e,o){var s=at(t);(i||"").split(/\s/).forEach(function(a){he(t,a,n,e).forEach(function(h){delete ht[s][h.i],"removeEventListener"in t&&t.removeEventListener(fe(h.e),h.proxy,le(h,o))})})}function ue(t){var i,n={originalEvent:t};for(i in t)!ln.test(i)&&t[i]!==void 0&&(n[i]=t[i]);return Lt(n,t)}function de(t,i){i(t);for(var n=0,e=t.childNodes.length;n<e;n++)de(t.childNodes[n],i)}function un(t,i,n,e){var o,s=r.map(i,function(c){var u=[];return o=J(c),o=="array"?(c.forEach(function(l){if(l.nodeType!==void 0)return u.push(l);if(rt(l))return u=u.concat(l.get());u=u.concat(r.fragment(l))}),u):o=="object"||c==null?c:r.fragment(c)}),a,h=t.length>1;return s.length<1?t:t.each(function(c,u){a=e?u:u.parentNode;var l=U(E.documentElement,a);s.forEach(function(w){if(h)w=w.cloneNode(!0);else if(!a)return r(w).remove();n.call(u,w),l&&de(w,function(f){if(f.nodeName!=null&&f.nodeName.toUpperCase()==="SCRIPT"&&(!f.type||f.type==="text/javascript")&&!f.src){var v=f.ownerDocument?f.ownerDocument.defaultView:window;v.eval.call(v,f.innerHTML)}})})})}function dn(t,i){var n;return typeof t.getElementsByTagName<"u"?n=t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?n=t.querySelectorAll(i||"*"):n=[],i===void 0||i&&Ri(t,i)?r.merge([t],n):n}function pn(t){for(var i,n,e=0;(n=t[e])!==void 0;e++)n._zid&&(i=ht[n._zid])&&i.forEach(o=>{let s=o.e+"."+o.ns.split(" ").join(".");dt(n,s,o.fn,o.sel)})}function pe(){return this.each(function(){this.nodeType===1&&pn(dn(this)),this.parentNode!=null&&this.parentNode.removeChild(this)})}function me(){return this.each(function(){this.innerHTML=""})}function ge(t){return 0 in arguments?this.each(function(i){var n=this.innerHTML;r(this).empty().append(P(this,t,i,n))}):0 in this?this[0].innerHTML:null}function ve(){return un(this,arguments,function(t){this.insertBefore(t,null)},!0)}function xe(t,i,n,e,o){var s,a,h=this;return t&&!ot(t)?(r.each(t,function(c,u){h.on(c,i,n,u,o)}),h):(!ot(i)&&!I(e)&&e!==!1&&(e=n,n=i,i=void 0),(e===void 0||n===!1)&&(e=n,n=void 0),e===!1&&(e=_t),h.each(function(c,u){o&&(s=function(l){return dt(u,l.type,e),e.apply(this,arguments)}),i&&(a=function(l){var w,f=r(l.target).closest(i,u).get(0);if(f&&f!==u)return w=r.extend(ue(l),{currentTarget:f,liveFired:u}),(s||e).apply(f,[w].concat(W.call(arguments,1)))}),ce(u,t,e,n,i,a||s)}))}function we(t,i,n){var e=this;return t&&!ot(t)?(r.each(t,function(o,s){e.off(o,i,s)}),e):(!ot(i)&&!I(n)&&n!==!1&&(n=i,i=void 0),n===!1&&(n=_t),e.each(function(){dt(this,t,n,i)}))}var R="",pt,mn={Webkit:"webkit",Moz:"",O:"o"},Dt=E.createElement("div"),ye=Dt.style.transitionProperty;Dt.style.transform===void 0&&r.each(mn,function(t,i){if(Dt.style[t+"TransitionProperty"]!==void 0)return R="-"+t.toLowerCase()+"-",pt=i,!1});Dt=null;function be(t){return pt?pt+t:t.toLowerCase()}r.fx={off:pt===void 0&&ye===void 0,speeds:{_default:400,fast:200,slow:600},cssPrefix:R,transitionEnd:be("TransitionEnd"),animationEnd:be("AnimationEnd")};var gn=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,qt,Ee,Te,Me,Ce,ze,$e,Se,He,X={};function vn(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}qt=R+"transform";X[Ee=R+"transition-property"]=X[Te=R+"transition-duration"]=X[Ce=R+"transition-delay"]=X[Me=R+"transition-timing-function"]=X[ze=R+"animation-name"]=X[$e=R+"animation-duration"]=X[He=R+"animation-delay"]=X[Se=R+"animation-timing-function"]="";function _e(t,i,n,e,o){var s,a={},h,c="",u=this,l,w=r.fx.transitionEnd,f=!1;if(i===void 0&&(i=r.fx.speeds._default/1e3),o===void 0&&(o=0),r.fx.off&&(i=0),typeof t=="string")a[ze]=t,a[$e]=i+"s",a[He]=o+"s",a[Se]=n||"linear",w=r.fx.animationEnd;else{h=[];for(s in t)gn.test(s)?c+=s+"("+t[s]+") ":(a[s]=t[s],h.push(vn(s)));c&&(a[qt]=c,h.push(qt)),i>0&&typeof t=="object"&&(a[Ee]=h.join(", "),a[Te]=i+"s",a[Ce]=o+"s",a[Me]=n||"linear")}return l=function(v){if(typeof v<"u"){if(v.target!==v.currentTarget)return;r(v.target).off(w,l)}else r(this).off(w,l);f=!0,r(this).css(X),e&&e.call(this)},i>0&&(this.on(w,l),setTimeout(function(){f||l.call(u)},(i+o)*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(a),i<=0&&setTimeout(function(){u.each(function(){l.call(this)})},0),this}function Le(t,i,n,e,o){return I(i)&&(e=i,n=void 0,i=void 0),I(n)&&(e=n,n=void 0),q(i)&&(n=i.easing,e=i.complete,o=i.delay,i=i.duration),i&&(i=(typeof i=="number"?i:r.fx.speeds[i]||r.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,i,n,e,o)}function De(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=Pi(this.nodeName))})}function Ve(){return this.css("display","none")}function Xt(t,i,n,e,o){typeof i=="function"&&!o&&(o=i,i=void 0);var s={opacity:n};return e&&(s.scale=e,t.css(r.fx.cssPrefix+"transform-origin","0 0")),t.animate(s,i,null,o)}function xn(t,i,n,e){return Xt(t,i,0,n,function(){Ve.call(r(this)),e&&e.call(this)})}function Ne(t,i){return De.call(this),t===void 0?t=0:this.css("opacity",0),Xt(this,t,1,"1,1",i)}function Ae(t,i){return t===void 0?Ve.call(this):xn(this,t,"0,0",i)}function Ie(t,i,n){return Xt(this,t,i,null,n)}function Pe(t,i){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,De.call(this).fadeTo(t,n,i)}var wn={isPlainObject:q,isArray:K,noop:Fi},yn={find:Ji,closest:Qi,css:Wi,addClass:ji,hasClass:Bi,removeClass:ki,attr:Gi,removeAttr:Ki,append:ve,remove:pe,empty:me,html:ge,width:ie,height:ee,scrollTop:qi,scrollLeft:Xi,offset:Ui,offsetParent:Zi,position:Yi,on:xe,off:we,show:Ne,hide:Ae,anim:_e,animate:Le,fadeTo:Ie,fadeIn:Pe};r.extend(wn);r.fn.extend(yn);var m=r;var Oe={draggable:!0,resizable:!0,movable:!0,keyboard:!0,title:!0,modalWidth:320,modalHeight:320,fixedModalSize:!1,initMaximized:!1,gapThreshold:.02,ratioThreshold:.1,minRatio:.05,maxRatio:16,headerToolbar:["maximize","close"],footerToolbar:["zoomIn","zoomOut","prev","fullscreen","next","actualSize","rotateRight"],icons:{minimize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M20,14H4V10H20"></path>
      </svg>`,maximize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M4,4H20V20H4V4M6,8V18H18V8H6Z"></path>
      </svg>`,close:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12
        L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"></path>
      </svg>`,zoomIn:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43
        C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5
        C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5
        C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"></path>
      </svg>`,zoomOut:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5
        A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16
        C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14
        C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z"></path>
      </svg>`,prev:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z"></path>
      </svg>`,next:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16,18H18V6H16M6,18L14.5,12L6,6V18Z"></path>
      </svg>`,fullscreen:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M8.5,12.5L11,15.5L14.5,11L19,17H5M23,18V6A2,2 0 0,0 21,4H3
        A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18Z"></path>
      </svg>`,actualSize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09
        M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19
        H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91
        L13.09,9.5Z"></path>
      </svg>`,rotateLeft:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13,4.07V1L8.45,5.55L13,10V6.09C15.84,6.57 18,9.03 18,12
        C18,14.97 15.84,17.43 13,17.91V19.93C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07
        M7.1,18.32C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,16.87L7.1,18.32
        M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13
        M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z"></path>
      </svg>`,rotateRight:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91
        C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31
        L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11
        L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12
        C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10
        L15.55,5.55Z"></path>
      </svg>`},i18n:{minimize:"Minimize",maximize:"Maximize (Alt+X)",close:"Close (Q)",zoomIn:"Zoom-in (+)",zoomOut:"Zoom-out (-)",prev:"Prev (\u2190)",next:"Next (\u2192)",fullscreen:"Fullscreen (F)",actualSize:"Actual-size (Ctrl+Alt+0)",rotateLeft:"Rotate-left (Ctrl+,)",rotateRight:"Rotate-right (Ctrl+.)"},multiInstances:!0,initAnimation:!0,animationDuration:400,animationEasing:"ease-in-out",fixedModalPos:!1,zIndex:1090,dragHandle:null,callbacks:{beforeOpen:m.noop,opened:m.noop,beforeClose:m.noop,closed:m.noop,beforeChange:m.noop,changed:m.noop},index:0,progressiveLoading:!0,appendTo:"body",customButtons:{},positionFixed:!0,initModalPos:null};var Zt=window.document;function Re(t,i){let n=null;return function(){let e=this,o=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(e,o)},i)}}function Fe(t,i,n){let e=new Image;e.onload=function(){i(e)},e.onerror=function(){n(e)},e.src=t}function We(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function Be(t){let i=/^.*?\/*([^/?]*)\.[a-z]+(\?.+|$)/gi;return t.replace(i,"$1")}function mt(t,i,n,e){let o=e?t.h:t.w,s=e?t.w:t.h;(s>i.h||o>i.w)&&n.addClass("is-grab"),s<=i.h&&o<=i.w&&n.removeClass("is-grab")}function Vt(){return!!("ontouchstart"in window||window.DocumentTouch&&Zt instanceof window.DocumentTouch)}function gt(t){return/^(?:body|html)$/i.test(t.nodeName)}function vt(t,i){return i.reduce((n,e)=>n+parseFloat(t.css(e)),0)}function it(t){return t.css("box-sizing")==="border-box"}function Nt(t,i,n,e,o){let s=1;return o?s=Math.min(n/i,e/t,1):s=Math.min(n/t,e/i,1),s}var xt=m(window),A=m(Zt),F="click",Gt="resize",je="keydown",ke="wheel mousewheel DOMMouseScroll",lt=Vt()?"touchstart":"mousedown",Z=Vt()?"touchmove":"mousemove",G=Vt()?"touchend":"mouseup",g="photoviewer",H="."+g,x="."+g,_={isMoving:!1,isResizing:!1,zIndex:0};function Ue(t,i,n){let e=0,o=0,s=0,a=0,h=l=>{if(l=l||window.event,t[0].blur(),m(l.target).closest(n).length)return!0;this.options.multiInstances&&t.css("z-index",++_.zIndex),e=l.type==="touchstart"?l.targetTouches[0].pageX:l.clientX,o=l.type==="touchstart"?l.targetTouches[0].pageY:l.clientY,s=parseFloat(t.css("left")),a=parseFloat(t.css("top")),t.css({left:s,top:a,right:"",bottom:""}),A.on(Z+x,c).on(G+x,u)},c=l=>{if(l=l||window.event,l.preventDefault(),!_.isMoving&&!_.isResizing&&!this.isMaximized){let w=l.type==="touchmove"?l.targetTouches[0].pageX:l.clientX,f=l.type==="touchmove"?l.targetTouches[0].pageY:l.clientY,v=w-e,T=f-o;t.css({left:v+s,top:T+a})}},u=()=>{A.off(Z+x,c).off(G+x,u),t[0].focus()};m(i).on(lt+x,h)}var Ye=`html, body, .${g}-modal, .${g}-stage, .${g}-button, .${g}-resizable-handle`;function qe(t,i){let n=0,e=0,o=0,s=0,a=0,h=0,c=0,u=f=>{f=f||window.event,f.preventDefault();let v=i.width(),T=i.height(),p=t.width(),b=t.height();n=f.type==="touchstart"?f.targetTouches[0].pageX:f.clientX,e=f.type==="touchstart"?f.targetTouches[0].pageY:f.clientY,c=this.isRotated?(v-T)/2:0,a=this.isRotated?T-p:v-p,h=this.isRotated?v-b:T-b,_.isMoving=a>0||h>0,o=i.position().left-c,s=i.position().top+c,t.hasClass("is-grab")&&m(Ye).addClass("is-grabbing"),A.on(Z+x,l).on(G+x,w)},l=f=>{f=f||window.event,f.preventDefault();let v=f.type==="touchmove"?f.targetTouches[0].pageX:f.clientX,T=f.type==="touchmove"?f.targetTouches[0].pageY:f.clientY,p=v-n,b=T-e,C=p+o,d=b+s;h>0?b+s>c?d=c:b+s<-h+c&&(d=-h+c):d=s,a>0?p+o>-c?C=-c:p+o<-a-c&&(C=-a-c):C=o,i.css({left:C,top:d}),m.extend(this.imageData,{left:C,top:d})},w=()=>{A.off(Z+x,l).off(G+x,w),_.isMoving=!1,m(Ye).removeClass("is-grabbing")};t.on(lt+x,u)}var Xe=`html, body, .${g}-modal, .${g}-stage, .${g}-button`;function Ze(t,i,n,e){let o=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-e"></div>`),s=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-w"></div>`),a=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-s"></div>`),h=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-n"></div>`),c=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-se"></div>`),u=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-sw"></div>`),l=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-ne"></div>`),w=m(`<div class="${g}-resizable-handle ${g}-resizable-handle-nw"></div>`),f={e:o,s:a,se:c,n:h,w:s,nw:w,ne:l,sw:u};t.append(o,s,a,h,c,u,l,w);let v=0,T=0,p={w:0,h:0,x:0,y:0},b={w:0,h:0,x:0,y:0},C={w:0,h:0,x:0,y:0},d=0,B=0,j=0,et="",{modalWidth:V,modalHeight:O}=e,nn=(M,y,z)=>{let $=-y+p.w>V?y+p.x:p.x+p.w-V,S=-z+p.h>O?z+p.y:p.y+p.h-O;return{e:{width:Math.max(y+p.w,V)},s:{height:Math.max(z+p.h,O)},se:{width:Math.max(y+p.w,V),height:Math.max(z+p.h,O)},w:{width:Math.max(-y+p.w,V),left:$},n:{height:Math.max(-z+p.h,O),top:S},nw:{width:Math.max(-y+p.w,V),height:Math.max(-z+p.h,O),top:S,left:$},ne:{width:Math.max(y+p.w,V),height:Math.max(-z+p.h,O),top:S},sw:{width:Math.max(-y+p.w,V),height:Math.max(z+p.h,O),left:$}}[M]},on=(M,y,z)=>{let $=y+p.w>V?b.w-B+y-d:V-(p.w-b.w)-B-d,S=z+p.h>O?b.h-j+z+d:O-(p.h-b.h)-j+d,L=-y+p.w>V?b.w-B-y-d:V-(p.w-b.w)-B-d,N=-z+p.h>O?b.h-j-z+d:O-(p.h-b.h)-j+d,wt=n.position().left,yt=n.position().top,At=($>0?wt:Math.min(wt,0))-d,It=(S>0?yt:Math.min(yt,0))+d,Pt=(L>0?wt:Math.min(wt,0))-d,Ot=(N>0?yt:Math.min(yt,0))+d;return{e:{left:$>=-d?($-d)/2:Math.max(At,$)},s:{top:S>=d?(S+d)/2:Math.max(It,S)},se:{top:S>=d?(S+d)/2:Math.max(It,S),left:$>=-d?($-d)/2:Math.max(At,$)},w:{left:L>=-d?(L-d)/2:Math.max(Pt,L)},n:{top:N>=d?(N+d)/2:Math.max(Ot,N)},nw:{top:N>=d?(N+d)/2:Math.max(Ot,N),left:L>=-d?(L-d)/2:Math.max(Pt,L)},ne:{top:N>=d?(N+d)/2:Math.max(Ot,N),left:$>=-d?($-d)/2:Math.max(At,$)},sw:{top:S>=d?(S+d)/2:Math.max(It,S),left:L>=-d?(L-d)/2:Math.max(Pt,L)}}[M]},sn=(M,y)=>{y=y||window.event,y.preventDefault(),_.isResizing=!0,v=y.type==="touchstart"?y.targetTouches[0].pageX:y.clientX,T=y.type==="touchstart"?y.targetTouches[0].pageY:y.clientY,p={w:t.width()+(it(t)?this._modalEdgeValue.horizontal:0),h:t.height()+(it(t)?this._modalEdgeValue.vertical:0),x:t.position().left,y:t.position().top},b={w:i.width(),h:i.height(),x:i.position().left,y:i.position().top},C={w:n.width(),h:n.height(),x:n.position().left,y:n.position().top},d=this.isRotated?(C.w-C.h)/2:0,B=this.isRotated?C.h:C.w,j=this.isRotated?C.w:C.h,et=M,m(Xe).css("cursor",M+"-resize"),A.on(Z+x,Kt).on(G+x,Jt)},Kt=M=>{if(M=M||window.event,M.preventDefault(),!this.isMaximized){let y=M.type==="touchmove"?M.targetTouches[0].pageX:M.clientX,z=M.type==="touchmove"?M.targetTouches[0].pageY:M.clientY,$=y-v,S=z-T,L=nn(et,$,S);t.css(L);let N=on(et,$,S);n.css(N)}},Jt=()=>{A.off(Z+x,Kt).off(G+x,Jt);let M=i.width(),y=i.height();_.isResizing&&mt({w:B,h:j},{w:M,h:y},i),_.isResizing=!1,m(Xe).css("cursor","");let{originalWidth:z,originalHeight:$}=this.imageData,S=Nt(z,$,M,y,this.isRotated),L=z*S,N=$*S;m.extend(this.imageData,{initWidth:L,initHeight:N,initLeft:(M-L)/2,initTop:(y-N)/2})};m.each(f,function(M,y){y.on(lt+x,function(z){sn(M,z)})})}var Ge=(()=>{let i=class i{constructor(e,o){k(this,"isOpened",!1);k(this,"isMaximized",!1);k(this,"isRotated",!1);k(this,"rotationDegree",0);k(this,"imageData",{});k(this,"modalData",{width:null,height:null,left:null,top:null});k(this,"_lastTimestamp",0);this.init(e,o)}init(e,o){this.options=m.extend(!0,{},Oe,o),o&&m.isArray(o.footerToolbar)&&(this.options.footerToolbar=o.footerToolbar),o&&m.isArray(o.headerToolbar)&&(this.options.headerToolbar=o.headerToolbar),_.zIndex=_.zIndex===0?this.options.zIndex:_.zIndex,this.open(),this.images=e,this.index=this.options.index,this._loadImage(this.index),this.options.draggable&&this.draggable(this.$photoviewer,this.dragHandle,H+"-button"),this.options.movable&&this.movable(this.$stage,this.$image),this.options.resizable&&this.resizable(this.$photoviewer,this.$stage,this.$image,this.options)}_createBtns(e){let o=["minimize","maximize","close","zoomIn","zoomOut","prev","next","fullscreen","actualSize","rotateLeft","rotateRight"],s="";return m.each(e,(a,h)=>{let c=`${g}-button ${g}-button-${h}`;o.indexOf(h)>=0?s+=`<button class="${c}" title="${this.options.i18n[h]}">
          ${this.options.icons[h]}
          </button>`:this.options.customButtons[h]&&(s+=`<button class="${c}" title="${this.options.customButtons[h].title||""}">
          ${this.options.customButtons[h].text}
          </button>`)}),s}_createTitle(){return this.options.title?`<div class="${g}-title"></div>`:""}_createTemplate(){return`<div class="${g}-modal" tabindex="0">
        <div class="${g}-inner">
          <div class="${g}-header">
            <div class="${g}-toolbar ${g}-toolbar-header">
            ${this._createBtns(this.options.headerToolbar)}
            </div>
            ${this._createTitle()}
          </div>
          <div class="${g}-stage">
            <img class="${g}-image" src="" alt="" />
          </div>
          <div class="${g}-footer">
            <div class="${g}-toolbar ${g}-toolbar-footer">
            ${this._createBtns(this.options.footerToolbar)}
            </div>
          </div>
        </div>
      </div>`}_build(){let e=this._createTemplate(),o=m(e);this.$photoviewer=o,this.$stage=o.find(H+"-stage"),this.$title=o.find(H+"-title"),this.$image=o.find(H+"-image"),this.$close=o.find(H+"-button-close"),this.$maximize=o.find(H+"-button-maximize"),this.$minimize=o.find(H+"-button-minimize"),this.$zoomIn=o.find(H+"-button-zoomIn"),this.$zoomOut=o.find(H+"-button-zoomOut"),this.$actualSize=o.find(H+"-button-actualSize"),this.$fullscreen=o.find(H+"-button-fullscreen"),this.$rotateLeft=o.find(H+"-button-rotateLeft"),this.$rotateRight=o.find(H+"-button-rotateRight"),this.$prev=o.find(H+"-button-prev"),this.$next=o.find(H+"-button-next"),this.$stage.addClass("stage-ready"),this.$image.addClass("image-ready"),this.$photoviewer.css("z-index",_.zIndex),this.options.positionFixed&&this.$photoviewer.css({position:"fixed"}),!this.options.dragHandle||this.options.dragHandle===H+"-modal"?this.dragHandle=this.$photoviewer:this.dragHandle=this.$photoviewer.find(this.options.dragHandle),m(this.options.appendTo).eq(0).append(this.$photoviewer),this._stageEdgeValue={horizontal:vt(this.$stage,["left","right","border-left-width","border-right-width"]),vertical:vt(this.$stage,["top","bottom","border-top-width","border-bottom-width"])},this._modalEdgeValue={horizontal:vt(this.$photoviewer,["padding-left","padding-right","border-left-width","border-right-width"]),vertical:vt(this.$photoviewer,["padding-top","padding-bottom","border-top-width","border-bottom-width"])},this._addEvents(),this._addCustomButtonEvents()}open(){this._triggerHook("beforeOpen",this),!this.options.multiInstances&&i.instances.length>0&&i.instances[0].close(),this._build(),this._setInitModalPos(),i.instances.push(this),this._triggerHook("opened",this)}close(){this._triggerHook("beforeClose",this),this.$photoviewer.remove(),i.instances=i.instances.filter(e=>e!==this),i.instances.length===0&&(_.zIndex=this.options.zIndex,xt.off(Gt+x)),this._triggerHook("closed",this)}_getOffsetParentData(){let e=m(this.options.appendTo)[0];return{width:this.options.positionFixed||gt(e)?xt.width():e.clientWidth,height:this.options.positionFixed||gt(e)?xt.height():e.clientHeight,scrollLeft:this.options.positionFixed?0:gt(e)?A.scrollLeft():e.scrollLeft,scrollTop:this.options.positionFixed?0:gt(e)?A.scrollTop():e.scrollTop}}_setModalToCenter(){let e,o,s,a,h=0,c=0;if(it(this.$photoviewer)||(h+=this._modalEdgeValue.horizontal,c+=this._modalEdgeValue.vertical),m.isPlainObject(this.options.initModalPos))e=this.options.initModalPos.left,o=this.options.initModalPos.top,s=this.options.initModalPos.right,a=this.options.initModalPos.bottom;else{let l=this._getOffsetParentData();e=(l.width-this.options.modalWidth-h)/2+l.scrollLeft,o=(l.height-this.options.modalHeight-c)/2+l.scrollTop}let u={width:this.modalData.width||this.options.modalWidth,height:this.modalData.height||this.options.modalHeight,left:this.modalData.left||e,top:this.modalData.top||o,right:this.modalData.right||s,bottom:this.modalData.bottom||a};this.$photoviewer.css(u)}_setInitModalPos(){this.options.initMaximized?(this.maximize(),this.isOpened=!0):this._setModalToCenter(),this.$photoviewer[0].focus()}_setModalSize(){let e=this.imageData.originalWidth+this._stageEdgeValue.horizontal,o=this.imageData.originalHeight+this._stageEdgeValue.vertical,s=0,a=0;it(this.$photoviewer)?(e+=this._modalEdgeValue.horizontal,o+=this._modalEdgeValue.vertical):(s+=this._modalEdgeValue.horizontal,a+=this._modalEdgeValue.vertical);let h=this._getOffsetParentData(),c=Math.max(this.options.gapThreshold,0)+1,u=Math.min(h.width/((e+s)*c),h.height/((o+a)*c),1),l=Math.max(e*u,this.options.modalWidth),w=Math.max(o*u,this.options.modalHeight);l=this.options.fixedModalSize?this.options.modalWidth:Math.round(l),w=this.options.fixedModalSize?this.options.modalHeight:Math.round(w);let f,v,T,p;m.isPlainObject(this.options.initModalPos)?(f=this.options.initModalPos.left,v=this.options.initModalPos.top,T=this.options.initModalPos.right,p=this.options.initModalPos.bottom):(f=(h.width-l-s)/2+h.scrollLeft,v=(h.height-w-a)/2+h.scrollTop);let b={width:l,height:w,left:f,top:v,right:T,bottom:p};this.options.initAnimation?this.$photoviewer.animate(b,this.options.animationDuration,this.options.animationEasing,()=>{this._setImageSize()}):(this.$photoviewer.css(b),this._setImageSize()),this.isOpened=!0}_setImageSize(){let e=this.$stage.width(),o=this.$stage.height(),{originalWidth:s,originalHeight:a}=this.imageData,h=Nt(s,a,e,o,this.isRotated),c=s*h,u=a*h;this.$image.css({width:Math.round(c),height:Math.round(u),left:(e-Math.round(c))/2,top:(o-Math.round(u))/2}),m.extend(this.imageData,{initWidth:c,initHeight:u,initLeft:(e-c)/2,initTop:(o-u)/2,width:c,height:u,left:(e-c)/2,top:(o-u)/2}),mt({w:c,h:u},{w:e,h:o},this.$stage,this.isRotated),this.imageLoaded||(this.$photoviewer.find(H+"-loader").remove(),this.$stage.removeClass("stage-ready"),this.$image.removeClass("image-ready"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.fadeIn(),this.imageLoaded=!0)}_loadImage(e,o,s){let a=this.images[e]?.src;a&&(this.$image.removeAttr("style").attr("src",""),this.isRotated=!1,this.rotationDegree=0,this.imageLoaded=!1,this.$photoviewer.append(`<div class="${g}-loader"></div>`),this.$stage.addClass("stage-ready"),this.$image.addClass("image-ready"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.hide(),this.$image.attr("src",a),Fe(a,h=>{this.imageData={originalWidth:h.width,originalHeight:h.height},this.isMaximized||this.isOpened&&this.options.fixedModalPos?this._setImageSize():this._setModalSize(),o&&o.call()},()=>{this.$photoviewer.find(H+"-loader").remove(),s&&s.call()}),this.options.title&&a&&this._setImageTitle(a))}_setImageTitle(e){let o=this.images[this.index].title||Be(e);this.$title.html(o)}jump(e){this._triggerHook("beforeChange",[this,this.index]);let o=Date.now();o-this._lastTimestamp>=this.options.animationDuration&&(this.index=this.index+e,this.jumpTo(this.index),this._lastTimestamp=o)}jumpTo(e){e=e%this.images.length,e>=0?e=e%this.images.length:e<0&&(e=(this.images.length+e)%this.images.length),this.index=e,this._loadImage(e,()=>{this._triggerHook("changed",[this,e])},()=>{this._triggerHook("changed",[this,e])})}_wheel(e){e.preventDefault();let o=1;e.deltaY?o=e.deltaY>0?1:-1:e.wheelDelta?o=-e.wheelDelta/120:e.detail&&(o=e.detail>0?1:-1);let s=-o*this.options.ratioThreshold,a={x:e.clientX-this.$stage.offset().left+A.scrollLeft(),y:e.clientY-this.$stage.offset().top+A.scrollTop()};this.zoom(s,a)}zoom(e,o){e=e<0?1/(1-e):1+e,e=this.$image.width()/this.imageData.originalWidth*e,!(e>this.options.maxRatio||e<this.options.minRatio)&&this.zoomTo(e,o)}zoomTo(e,o){let{originalWidth:s,originalHeight:a,width:h,height:c,left:u,top:l,initWidth:w}=this.imageData,f=this.$stage.width(),v=this.$stage.height();o===void 0&&(o={x:f/2,y:v/2});let T=s*e,p=a*e,b=o.x-(o.x-u)/h*T,C=o.y-(o.y-l)/c*p,d=this.isRotated?(T-p)/2:0,B=this.isRotated?p:T,j=this.isRotated?T:p,et=f-T,V=v-p;B<=f?b=et/2:b=b>-d?-d:Math.max(b,et+d),j<=v?C=V/2:C=C>d?d:Math.max(C,V-d),Math.abs(w-T)<w*.05?this._setImageSize():(this.$image.css({width:Math.round(T),height:Math.round(p),left:Math.round(b),top:Math.round(C)}),mt({w:Math.round(B),h:Math.round(j)},{w:f,h:v},this.$stage)),m.extend(this.imageData,{width:T,height:p,left:b,top:C})}rotate(e){this.rotationDegree=this.rotationDegree+e,this.rotationDegree/90%2===0?this.isRotated=!1:this.isRotated=!0,this.rotateTo(this.rotationDegree)}rotateTo(e){this.$image.css({transform:"rotate("+e+"deg)"}),this._setImageSize()}maximize(){this.$photoviewer.addClass(g+"-maximized"),this.$photoviewer.css({width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),this.isMaximized=!0}exitMaximize(){this.$photoviewer.removeClass(g+"-maximized"),this._setModalToCenter(),this.isMaximized=!1}toggleMaximize(){if(this.isMaximized)this.exitMaximize();else{let e=this.$photoviewer.width(),o=this.$photoviewer.height();it(this.$photoviewer)&&(e+=this._modalEdgeValue.horizontal,o+=this._modalEdgeValue.vertical),this.modalData={width:e,height:o,left:parseFloat(this.$photoviewer.css("left")),top:parseFloat(this.$photoviewer.css("top"))},this.maximize()}this._setImageSize(),this.$photoviewer[0].focus()}fullscreen(){We(this.$photoviewer[0]),this.$photoviewer[0].focus()}resize(){this.isOpened&&(this.isMaximized?this._setImageSize():this._setModalSize())}_keydown(e){if(!this.options.keyboard)return;e.preventDefault();let o=e.keyCode||e.which||e.charCode,s=e.ctrlKey||e.metaKey,a=e.altKey;switch(o){case 37:this.jump(-1);break;case 39:this.jump(1);break;case 187:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 189:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 61:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 173:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 48:s&&a&&this.zoomTo(1,{x:this.$stage.width()/2,y:this.$stage.height()/2},e);break;case 188:s&&this.rotate(-90);break;case 190:s&&this.rotate(90);break;case 81:this.close();break;case 88:a&&this.toggleMaximize();break;case 70:this.fullscreen();break;default:}}_addEvents(){this.$close.on(F+x,()=>{this.close()}),this.$stage.on(ke+x,e=>{this._wheel(e)}),this.$zoomIn.on(F+x,()=>{this.zoom(this.options.ratioThreshold*3)}),this.$zoomOut.on(F+x,()=>{this.zoom(-this.options.ratioThreshold*3)}),this.$actualSize.on(F+x,()=>{this.zoomTo(1)}),this.$prev.on(F+x,()=>{this.jump(-1)}),this.$next.on(F+x,()=>{this.jump(1)}),this.$rotateLeft.on(F+x,()=>{this.rotate(-90)}),this.$rotateRight.on(F+x,()=>{this.rotate(90)}),this.$maximize.on(F+x,()=>{this.toggleMaximize()}),this.$fullscreen.on(F+x,()=>{this.fullscreen()}),this.$photoviewer.on(je+x,e=>{this._keydown(e)}),xt.on(Gt+x,Re(()=>this.resize(),500))}_addCustomButtonEvents(){for(let e in this.options.customButtons)this.$photoviewer.find(H+"-button-"+e).on(F+x,o=>{this.options.customButtons[e].click.apply(this,[this,o])})}_triggerHook(e,o){this.options.callbacks[e]&&this.options.callbacks[e].apply(this,m.isArray(o)?o:[o])}};k(i,"instances",[]);let t=i;return t})();m.extend(Ge.prototype,{draggable:Ue},{movable:qe},{resizable:Ze});var Ke=Ge;var Je=Ke;var Qe=(()=>{let i=class i{constructor(e){this._elementRef=e,this.images=[],this.embed=!1}ngOnInit(){let{nativeElement:e}=this._elementRef;if(this.embed)this.options=Qt({appendTo:e,positionFixed:!1,modalWidth:e.clientWidth,modalHeight:e.clientHeight},this.options),this.initPhotoViewer();else if(this.images.length===0&&e.nodeName==="IMG"){let o=e;this.images=[{title:o.title||o.alt,src:o.src}]}}ngOnDestroy(){this.photoviewerInstance?.close()}onClick(e){e.preventDefault(),this.embed||this.initPhotoViewer()}initPhotoViewer(){this.photoviewerInstance=new Je(this.images,this.options)}};i.\u0275fac=function(o){return new(o||i)(ri(si))},i.\u0275dir=ni({type:i,selectors:[["","mtxPhotoviewer",""]],hostBindings:function(o,s){o&1&&ui("click",function(h){return s.onClick(h)})},inputs:{images:[bt.None,"mtxPhotoviewerItems","images"],options:[bt.None,"mtxPhotoviewerOptions","options"],embed:[bt.HasDecoratorInputTransform,"mtxPhotoviewerEmbed","embed",xi]},exportAs:["mtxPhotoviewer"],features:[ai]});let t=i;return t})(),tn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=ei({type:i}),i.\u0275inj=ti({});let t=i;return t})();var Tn=t=>({index:t});function Mn(t,i){if(t&1&&(ft(0,"mat-grid-tile")(1,"mat-grid-tile-header")(2,"span",3),ct(3),nt()(),Rt(4,"img",4),nt()),t&2){let n=i.$implicit,e=i.$index,o=di();Et(3),mi("Gallery Image: ",e+1,""),Et(),pi("alt","Gallery Image ",e+1,""),hi("mtxPhotoviewerItems",o.images)("mtxPhotoviewerOptions",vi(5,Tn,e))("src",n.src,oi)}}var en=(()=>{let i=class i{constructor(){this.dir="assets/images/pixabay/",this.images=[]}ngOnInit(){for(let e=1;e<=20;e++)this.images.push({title:e,src:this.dir+e+".jpg"})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=ii({type:i,selectors:[["app-media-gallery"]],standalone:!0,features:[gi],decls:9,vars:0,consts:[["title","Media",1,"bg-pink-A100"],["href","https://github.com/nzbin/photoviewer","target","_blank"],["cols","4","rowHeight","1:1"],["matLine",""],["mtxPhotoviewer","",1,"w-full","h-full","object-cover","cursor-pointer",3,"mtxPhotoviewerItems","mtxPhotoviewerOptions","src","alt"]],template:function(o,s){o&1&&(Rt(0,"page-header",0),ft(1,"p"),ct(2," The media pictures are powered by "),ft(3,"a",1),ct(4,"PhotoViewer"),nt(),ct(5,`, you can click the picture to enlarge it.
`),nt(),ft(6,"mat-grid-list",2),fi(7,Mn,5,7,"mat-grid-tile",null,li),nt()),o&2&&(Et(7),ci(s.images))},dependencies:[zi,Ci,Ei,Ti,wi,Mi,yi,tn,Qe,bi]});let t=i;return t})();var ir=[{path:"gallery",component:en}];export{ir as routes};
